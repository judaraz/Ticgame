<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Watch & Earn Ads</title>

<!-- Telegram WebApp -->
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<!-- Monetag -->
<script src="//libtl.com/sdk.js"
        data-zone="10412754"
        data-sdk="show_10412754"></script>

<!-- RichPartners -->
<script src="https://richinfo.co/richpartners/telegram/js/tg-ob.js"></script>

<!-- TMA Onclick Video -->
<script src="https://js.onclckvd.com/in-stream-ad-admanager/tma.js"></script>

<script>
/* ---------- TELEGRAM ---------- */
Telegram.WebApp.ready();
Telegram.WebApp.expand();

/* ---------- RICH INIT ---------- */
let richReady = false;
window.TelegramAdsController = new TelegramAdsController();
window.TelegramAdsController.initialize({
  pubId: "956231",
  appId: "5568"
});
richReady = true;

/* ---------- TMA INIT ---------- */
let showTmaAd = null;
window.initCdTma?.({ id: 6089929 }) // ðŸ”´ REPLACE WITH YOUR SPOT-ID
  .then(show => {
    showTmaAd = show;
    console.log("TMA ready");
  })
  .catch(e => console.log("TMA init error", e));
</script>

<style>
*{box-sizing:border-box;font-family:Segoe UI,Roboto,sans-serif;margin:0;padding:0;}
body{
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background:#0a0a0a;
    color:#fff;
}
.panel{
    width:360px;
    background:#0c0c0c;
    border-radius:22px;
    padding:24px;
}
.title{
    text-align:center;
    font-size:22px;
    margin-bottom:20px;
}
.card{
    background:#111;
    border:1px solid #333;
    border-radius:16px;
    padding:18px;
    margin-bottom:14px;
    cursor:pointer;
}
.card:hover{border-color:#00ffe0;}
.card span{font-size:12px;color:#aaa;}
.footer{
    text-align:center;
    font-size:12px;
    color:#777;
}
</style>
</head>

<body>

<div class="panel">
    <div class="title">Watch & Earn</div>

    <!-- RICH WITH FALLBACK -->
    <div class="card" onclick="playRich()">
        <h4>RichPartners</h4>
        <span>Primary Ad</span>
    </div>

    <!-- MONETAG -->
    <div class="card" onclick="playMonetag()">
        <h4>Monetag</h4>
        <span>Backup Network</span>
    </div>

    <div class="footer">Click to watch ad</div>
</div>

<script>
/* ---------- RICH + FALLBACK ---------- */
function playRich() {
  try {
    if (!richReady || !window.TelegramAdsController) {
      throw new Error("Rich not ready");
    }

    window.TelegramAdsController.showAd();
    console.log("Rich ad requested");

  } catch (err) {
    console.log("Rich failed â†’ TMA fallback");
    playTma();
  }
}

/* ---------- TMA ---------- */
function playTma() {
  if (!showTmaAd) {
    alert("Ads not ready, try again");
    return;
  }

  showTmaAd()
    .then(() => {
      console.log("TMA ad viewed");
      // reward user here
    })
    .catch(err => {
      console.log("TMA failed", err);
      alert("No ads available");
    });
}

/* ---------- MONETAG ---------- */
function playMonetag() {
  if (typeof window.show_10412754 === "function") {
    show_10412754();
  } else {
    alert("Monetag not ready");
  }
}
</script>

</body>
</html></script>

</body>
</html>
